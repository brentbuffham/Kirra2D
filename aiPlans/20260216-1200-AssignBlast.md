# Plan: Add "Assign Blast" Functionality

## Status: IMPLEMENTED

## Summary

Added an "Assign Blast" action that allows users to reassign selected holes from one blast entity to another. Works from both the TreeView context menu and the HolePropertiesDialog.

## Files Modified

| # | File | Change |
|---|------|--------|
| 1 | `src/dialog/FloatingDialog.js` | Added Option4 button support (showOption4, option4Text, onOption4) |
| 2 | `src/dialog/popups/generic/AssignBlastDialog.js` | **NEW** - Reusable assign blast dialog module |
| 3 | `src/dialog/contextMenu/HolesContextMenu.js` | Added Option4 "Assign Blast" button to hole properties dialog |
| 4 | `kirra.html` | Added assign-blast context menu item, commented out Dialog Edit section |
| 5 | `src/kirra.css` | Added assign-blast icon CSS + dark mode inversion |
| 6 | `src/dialog/tree/TreeView.js` | Added assign-blast action handling (visibility, switch case, assignBlast method) |
| 7 | `src/kirra.js` | Imported AssignBlastDialog module, added null-guards for commented-out switches |

## Features

- **TreeView context menu**: Right-click holes or entities > "Assign Blast" with transition-right icon
- **HolePropertiesDialog**: "Assign Blast" button (leftmost, Option4) in single and multi-hole edit
- **Target selection**: Dropdown of existing blast names + "Create New Blast" option
- **Duplicate resolution**: Uses existing `checkAndResolveDuplicateHoleIDs()` system
- **fromHoleID update**: Properly updates `entityName:::holeID` references
- **rowID merge**: Adjusts row IDs when merging into existing blast
- **Dialog Edit removed**: Commented out from sidebar (Edit Blast Name, Edit Length, Edit Hole Type switches)
- **Null guards**: All references to commented-out switch elements are null-safe
